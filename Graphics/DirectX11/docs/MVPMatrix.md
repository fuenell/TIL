# MVP 행렬
MVP 행렬은 로컬 좌표에 위치한 버텍스를 카메라가 보는 좌표를 기준으로 변환해주는 행렬이다

MVP는 `Model`, `View`, `Projection` 행렬의 줄임말로 총 3개의 행렬을 합친 행렬을 뜻한다.

## 행우선, 열우선
벡터를 행으로 보느냐 열로 보느냐에 따라 행렬 곱셈 순서가 달라진다

`행우선(Row-Major)`은 벡터를 행으로 표현하고 `벡터 * 행렬` 순서로 계산

`(1x4 행렬) * (4x4 행렬) = (1x4 행렬)` → 결과도 행벡터
$$
\begin{bmatrix} x & y & z & 1 \end{bmatrix}
\begin{bmatrix}
m_{11} & m_{12} & m_{13} & m_{14} \\
m_{21} & m_{22} & m_{23} & m_{24} \\
m_{31} & m_{32} & m_{33} & m_{34} \\
m_{41} & m_{42} & m_{43} & m_{44}
\end{bmatrix}
= [x', y', z', w']
$$


`열우선(Column-Major)`은 벡터를 열로 표현하고 `행렬 * 벡터` 순서로 계산

`(4x4 행렬) * (4x1 행렬) = (4x1 행렬)` → 결과도 열벡터
$$
\begin{bmatrix}
m_{11} & m_{12} & m_{13} & m_{14} \\
m_{21} & m_{22} & m_{23} & m_{24} \\
m_{31} & m_{32} & m_{33} & m_{34} \\
m_{41} & m_{42} & m_{43} & m_{44}
\end{bmatrix}
\begin{bmatrix} x \\ y \\ z \\ 1 \end{bmatrix}
= \begin{bmatrix} x' \\ y' \\ z' \\ w' \end{bmatrix}
$$

DirectX 에서는 기본적으로 `행우선(Row-Major)` 방식을 사용하기 때문에 행우선 방식으로 설명

## Model 행렬
로컬 좌표의 버텍스를
월드 상에 모델이 위치한 변환하는 행렬

World 행렬이라고도 부르기 때문에 MVP를 WVP라고 부를 수도 있다

Model 행렬은 월드상의 위치, 회전, 크기를 변환한다

변환 순서가 중요한데

먼저 크기를 변환하고
그 다음 회전
그 다음 위치 이동을 해야 한다

왜냐면 크기와 회전 행렬은 원점을 기준으로 작성이 되어있기 때문이다.

열우선 방식이기 때문에
좌측에서 우측 방향으로 계산하기 때문에 아래와 같이 계산하면 된다

```
M = 크기 행렬 * 회전 행렬 * 이동 행렬
M = S(스케일) * R(회전) * T(이동)
M = SRT
```

### 크기 행렬
각 버텍스의 요소에 크기만큼 곱하면?
크기가 커진다
0,1,2 -> x2 -> 0,2,4

따라서 크기 행렬은 다음과 같다
$$
\begin{bmatrix}
S{x} & 0 & 0 \\
0 & S{y} & 0 \\
0 & 0 & S{z} \\
\end{bmatrix}
$$

### 회전 행렬
2차원 기준 회전 행렬은 원점을 기준으로 θ 만큼 회전하는 행렬은 아래와 같다
$$
\begin{bmatrix}
Cos(θ) & Sin(θ) \\
Sin(θ) & -Cos(θ)
\end{bmatrix}
$$

<img width="899" height="649" alt="Image" src="https://github.com/user-attachments/assets/d50fe7b0-eb13-427c-8b9f-ed6dc7caf451" />

### 이동 행렬

## View 행렬
View 행렬은 모델을 카메라 앞으로 정렬 시키는 행렬이다.

카메라의 위치의 역행렬을 구하면 된다?


## Projection 행렬
잘 구하면 됨